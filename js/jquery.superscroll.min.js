/*
 Scrollup v1.0 - Minified
 Author: Don Wasik
 Git: https://github.com/MentalNinja/Superscroll

 Copyright 2013 Don Wasik.
 Licensed under the MIT license
 http://www.opensource.org/licenses/mit-license.php
 */

(function(e,t,n,r){var i={append:false,scrollName:"scrollup",scrollHash:true,scrollLocalHash:true,scrollExternalHash:true,scrollPersistent:false,scrollSpeedUp:1e3,scrollAnimation:true,showHashURL:true,top:0,fadeInHeight:850,fadeInSpeed:500,fadeOutSpeed:250,debug:false,callback:function(){}};e.superscroll=function(n,r){function l(){if(!a.showHashURL){if(t.history&&t.history.pushState){t.history.pushState("","",t.location.pathname)}else{t.location.href=t.location.href.replace(/#.*$/,"#")}}}function c(){s.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup");if(!o){u=true;a.callback.call(this);u=a.debug}else{console.log("Superscroll - canceled scroll! If callback was set, it was canceled too! :)")}o=false}var s=e("html, body");var o=false;var u=true;if(n&&!n.length&&!e.isEmptyObject(n)){r=n}var a=e.extend({},i,r);e.fn.cancelScroll=function(){s.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(e){if(e.which>0||e.type==="mousedown"||e.type==="mousewheel"){s.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup");o=true;l();c();if(n&&n.length&&n.is(":visible")){n.finish().stop().clearQueue().attr("style","display: block;").unwrap()}}})};var f=console.log;console.log=function(){if(u){f.apply(this,arguments)}};if(a.append&&n&&!n.length&&!e.isEmptyObject(n)&&!e("#"+scrollName).length){console.log("Superscroll - append setting is true, successfully created scroll element!");n=e('<div id="'+scrollName+'" />').appendTo("body")}else if(a.append&&n&&e("#"+scrollName).length&&e.isEmptyObject(n)){console.log("Superscroll - append setting is true, but element already exists in html! Use plugin in the object method instead!")}else if(a.append&&n&&n.length&&!e.isEmptyObject(n)){console.log("Superscroll - append setting is true, but element already exists in html! Ignoring and using element already in html!")}else if(a.append&&n&&e("#"+scrollName).length&&!e.isEmptyObject(n)){console.log("Superscroll - append setting is true, but element already exists in html! Ignoring and using element already in html!");n=e("#"+scrollName)}if(!a.debug){u=false}else{console.log("Superscroll - successfully initialized debugging! :)")}if(a.scrollHash&&a.scrollLocalHash||a.scrollHash&&a.scrollExternalHash){console.log("Superscroll - successfully initialized hash scrolling! :)");if(a.scrollLocalHash){e("a[href*=#]:not([href=#])").click(function(t){var n=e(this.hash),r=this.hash;if(n.length){s.stop().animate({scrollTop:n.offset().top},a.scrollSpeedUp,function(){if(a.showHashURL){location.hash=r}c()}).cancelScroll();t.preventDefault()}})}else{console.log("Superscroll - local hash scrolling disabled by user!")}if(a.scrollExternalHash){var h=e(location.hash),p=location.hash;if(h.length){setTimeout(function(){s.animate({scrollTop:0},0)},10);e(t).on("load",function(){setTimeout(function(){s.animate({scrollTop:h.offset().top},a.scrollSpeedUp,function(){l();c()}).cancelScroll()},1e3)})}}else{console.log("Superscroll - external hash scrolling disabled by user!")}}else{console.log("Superscroll - hash scrolling completely disabled by user!")}if(n&&n.length){if(n.attr("id")){console.log('Superscroll - successfully initialized scrollup on the element: "#'+n.attr("id")+'"! :)')}else if(n.attr("class")){console.log('Superscroll - successfully initialized scrollup on the element: ".'+n.attr("class")+'"! :)')}if(a.scrollPersistent){n.fadeIn(0).click(function(){if(jQuery.ui&&a.scrollAnimation&&n.css("position")==="fixed"){n.effect("bounce",{direction:"up"},a.scrollSpeedUp*.75,function(){n.stop(true).clearQueue()})}s.stop().animate({scrollTop:a.top},a.scrollSpeedUp,function(){l();c()}).cancelScroll()})}else{e(t).scroll(function(){if(e(this).scrollTop()>=a.fadeInHeight){n.fadeIn(a.fadeInSpeed)}else{n.fadeOut(a.fadeOutSpeed)}});n.click(function(){if(jQuery.ui&&a.scrollAnimation&&n.css("position")==="fixed"){n.effect("bounce",{direction:"up"},a.scrollSpeedUp*.75,function(){n.stop(true).clearQueue().fadeOut(a.fadeOutSpeed)})}s.stop().animate({scrollTop:a.top},a.scrollSpeedUp,function(){l();c()}).cancelScroll()})}}else{console.log("Superscroll - no user defined element detected! Using hash scroll only.")}if(r&&!e.isEmptyObject(r)){e.each(i,function(t,n){if(e.inArray(t,i)&&i[t]!==a[t]){console.log("Superscroll - user defined option detected! User option: '"+t+"' set to: '"+a[t]+"'")}})}else{console.log("Superscroll - no user defined options detected! Using defaults.")}};e.fn.superscroll=function(t){if(e(e(this).selector).length){return this.each(function(){if(!e.data(e(this),"superscroll")){e.data(e(this),"superscroll");new e.superscroll(e(this),t)}})}else if(!e(e(this).selector).length&&t.append){console.log("Superscroll - append setting is true, but you are using the plugin in the object method, and the element does not exist! Use the plugin in the global method instead!")}else{console.log("Superscroll - scrollup couldn't be initialized on the element: \""+e(this).selector+'"! Does it exist? :(')}}})(jQuery,window,document)