/*
 Scrollup v1.2a - Minified
 Author: Don Wasik
 Git: https://github.com/MentalNinja/Superscroll

 Copyright 2013 Don Wasik.
 Licensed under the MIT license
 http://www.opensource.org/licenses/mit-license.php
 */

;(function(e,t,n,r){var i={scrollUp:true,scrollUpName:"scrollup",scrollHash:true,scrollLocalHash:true,scrollExternalHash:true,scrollPersistent:false,scrollSpeedUp:1e3,scrollAnimation:true,showHashURL:true,top:0,fadeInHeight:850,fadeInSpeed:500,fadeOutSpeed:250,debug:false,callback:function(){}};e.superscroll=function(r,s){function v(){for(d=1;d<4;d++){r.animate({bottom:"+="+12/d+"px"},90).animate({bottom:"-="+12/d+"px"},90)}}function m(){if(!p.showHashURL){if(t.history&&t.history.pushState){t.history.pushState("","",t.location.pathname)}else{t.location.href=t.location.href.replace(/#.*$/,"#")}}}function g(){f.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup");if(!l){h=true;p.callback.call(this);h=p.debug}else{console.log("Superscroll - canceled scroll! If callback was set, it was canceled too! :)")}l=false}var o={display:"none",height:"auto",width:"auto",cursor:"pointer",position:"fixed",bottom:"15px",right:"25px",zIndex:"999"};var u=n.styleSheets[0].rules||n.styleSheets[0].cssRules;var a=console.log;var f=e("html, body");var l=false;var c=false;var h=true;if(r&&!r.length&&!e.isEmptyObject(r)){s=r}var p=e.extend({},i,s);if(p.scrollUp){for(var d in u){if(typeof u[d].selectorText!="undefined"&&u[d].selectorText.indexOf("#"+p.scrollUpName)>=0){c=true}}}e.fn.cancelScroll=function(){f.bind("scroll mousedown DOMMouseScroll mousewheel keyup",function(e){if(e.which>0||e.type==="mousedown"||e.type==="mousewheel"){f.stop().unbind("scroll mousedown DOMMouseScroll mousewheel keyup");l=true;m();g();if(r&&r.length&&r.is(":visible")&&c){r.finish().stop().clearQueue().attr("style","display: block;").unwrap()}else{o.display="block";r.finish().stop().clearQueue().removeAttr("style").css(o).unwrap()}}})};console.log=function(){if(h){a.apply(this,arguments)}};if(!p.debug){h=false}else{console.log("Superscroll - successfully initialized debugging! :)")}if(p.scrollUp&&r&&!r.length&&!e.isEmptyObject(r)&&!e("#"+p.scrollUpName).length){console.log("Superscroll - successfully created scroll element: #"+p.scrollUpName+"! :)");r=e("#"+p.scrollUpName);if(c){r=e('<div id="'+p.scrollUpName+'" />').appendTo("body");console.log("Superscroll - successfully used user defined css for scrollup element! :)")}else{r=e('<div id="'+p.scrollUpName+'" />').css(o).text("Scroll to top").appendTo("body");console.log("Superscroll - no user defined css for scrollup element! Using defaults instead! :/")}}else if(p.scrollUp&&r&&e("#"+p.scrollUpName).length&&e.isEmptyObject(r)){console.log("Superscroll - scrollUp setting is true, but element already exists in html! Use plugin in the object method instead!")}if(p.scrollHash&&p.scrollLocalHash||p.scrollHash&&p.scrollExternalHash){console.log("Superscroll - successfully initialized hash scrolling! :)");if(p.scrollLocalHash){e("a[href*=#]:not([href=#])").click(function(t){var n=e(this.hash),r=this.hash;if(n.length){f.stop().animate({scrollTop:n.offset().top},p.scrollSpeedUp,function(){if(p.showHashURL){location.hash=r}g()}).cancelScroll();t.preventDefault()}})}else{console.log("Superscroll - local hash scrolling disabled by user!")}if(p.scrollExternalHash){var y=e(location.hash),b=location.hash;if(y.length){setTimeout(function(){f.animate({scrollTop:0},0)},10);e(t).on("load",function(){setTimeout(function(){f.animate({scrollTop:y.offset().top},p.scrollSpeedUp,function(){m();g()}).cancelScroll()},1e3)})}}else{console.log("Superscroll - external hash scrolling disabled by user!")}}else{console.log("Superscroll - hash scrolling completely disabled by user!")}if(r&&r.length){var w=true;if(p.scrollPersistent){r.fadeIn(0)}if(r.attr("id")){console.log('Superscroll - successfully initialized scrollup on the element: "#'+r.attr("id")+'"! :)')}else if(r.attr("class")){console.log('Superscroll - successfully initialized scrollup on the element: ".'+r.attr("class")+'"! :)')}e(t).scroll(function(){if(!p.scrollPersistent&&r.css("position")==="fixed"){w=false;if(e(this).scrollTop()>=p.fadeInHeight){r.fadeIn(p.fadeInSpeed)}else{r.fadeOut(p.fadeOutSpeed)}}else{if(e(this).scrollTop()){w=false}else{w=true}}});r.click(function(){if(!w){if(p.scrollAnimation&&r.css("position")==="fixed"){v()}f.stop().animate({scrollTop:p.top},p.scrollSpeedUp,function(){m();g()}).cancelScroll()}})}else{console.log("Superscroll - no user defined element detected! Using hash scroll only.")}if(s&&!e.isEmptyObject(s)){e.each(i,function(t,n){if(e.inArray(t,i)&&i[t]!==p[t]){console.log("Superscroll - user defined option detected! User option: '"+t+"' set to: '"+p[t]+"'")}})}else{console.log("Superscroll - no user defined options detected! Using defaults.")}};e.fn.superscroll=function(t){if(e(e(this).selector).length){return this.each(function(){if(!e.data(e(this),"superscroll")){e.data(e(this),"superscroll");new e.superscroll(e(this),t)}})}else if(!e(e(this).selector).length&&t.append){console.log("Superscroll - append setting is true, but you are using the plugin in the object method, and the element does not exist! Use the plugin in the global method instead!")}else{console.log("Superscroll - scrollup couldn't be initialized on the element: \""+e(this).selector+'"! Does it exist? :(')}}})(jQuery,window,document);